<ion-view id="pg-search" view-title="Search Results">
  <ion-content>
    <div class="item" v-if="routesFoundCount">
      {{routesFoundCount}} route(s) found.
    </div>
    <div class="item item-divider">
      Available Running Routes
    </div>
    <div class="item text-center" ng-if="!runningRoutes">
      <ion-spinner class="text-center"></ion-spinner>
    </div>
    <div class="item" ng-if="runningRoutes" ng-repeat="route in runningRoutes" ui-sref="tabs.bookingPickup({
          routeId: route.id,
          boardStop:  data.recentRoutesById[route.id].boardStopStopId,
          alightStop: data.recentRoutesById[route.id].alightStopStopId,
          sessionId: data.nextSessionId
        })">
      <regular-route route="route"></regular-route>
    </div>

    <div class="item item-divider">
      Crowdstart Routes
    </div>
    <div class="item text-center" ng-if="!crowdstartRoutes">
      <ion-spinner class="text-center"></ion-spinner>
    </div>
    <div class="item" ng-if="crowdstartRoutes" ng-repeat="route in crowdstartRoutes" ui-sref="tabs.crowdstart-detail({
                               routeId: route.id
                              })">

      <kickstart-route route="route"></kickstart-route>
    </div>

    <div class="item item-divider">
      Tracking-Only Routes
    </div>
    <div class="item text-center" ng-if="!liteRoutes">
      <ion-spinner class="text-center"></ion-spinner>
    </div>

    <div class="item" ng-if="liteRoutes" ng-repeat="route in liteRoutes"
      ui-sref="tabs.lite-summary({
       label: route.label
      })">
      <lite-route route="route"></lite-route>
    </div>


    <div class="item item-divider">
      Routes You May Interest With
    </div>
    <div class="item" ng-if="runningReverseRoutes" ng-repeat="route in runningReverseRoutes" ui-sref="tabs.bookingPickup({
          routeId: route.id,
          boardStop:  data.recentRoutesById[route.id].boardStopStopId,
          alightStop: data.recentRoutesById[route.id].alightStopStopId,
          sessionId: data.nextSessionId
        })">
      <regular-route route="route"></regular-route>
    </div>
    <div class="item" ng-if="crowdstartReverseRoutes" ng-repeat="route in crowdstartReverseRoutes" ui-sref="tabs.crowdstart-detail({
                               routeId: route.id
                              })">

      <kickstart-route route="route"></kickstart-route>
    </div>
    <div class="item" ng-if="liteReverseRoutes" ng-repeat="route in liteReverseRoutes"
      ui-sref="tabs.lite-summary({
       label: route.label
      })">
      <lite-route route="route"></lite-route>
    </div>

    <div class="item item-text-wrap">
      <p class="no-suggestion text-center">
       Can't find a suitable route?<br />
       Please submit a route suggestion.
     </p>
      <button class="button primary-button button-item suggest-button" ng-click="submitSuggestion()">
       Suggest a new Route
      </button>
    </div>
  </ion-content>
</ion-view>
