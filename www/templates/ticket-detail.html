<ion-view class="ticket-detail" 
		      view-title="Ticket for {{tripTicket.boardStop.time | date:'d MMM y'}}"
					ng-init="activeTab=0">
  <div class="tabs tabs-top tabs-icon-left tabs-light tabs-striped tabs-color-royal">
	  <a class="tab-item"
	  	 on-tap="activeTab=0"
	  	 ng-class="{active: activeTab===0}">
			 <i class="icon ion-bookmark"></i>
	  	 <span class="tab-title">Ticket</span>
	  </a>
	  <a class="tab-item"
	  	 on-tap="activeTab=1"
	  	 ng-class="{active: activeTab===1}">
			 <i class="icon ion-android-bus"></i>
	  	 <span class="tab-title">Driver</span>
	  </a>
	  <a class="tab-item"
	  	 on-tap="activeTab=2"
	  	 ng-class="{active: activeTab===2}">
			 <i class="icon ion-ios-location"></i>
	  	 <span class="tab-title">Stops</span>
	  </a>
	</div>
  <ion-content class="has-tabs-top" scroll=false>
  	<div class="item item-text-wrap" ng-show="activeTab===0">
  	{{ ticket }}
  	</div>
  	<div class="item item-text-wrap" ng-show="activeTab===1">
  	{{ trip }}
  	</div>
  	<div class="item item-text-wrap" ng-show="activeTab===2">
  	{{ route }}
  	</div>

    <ui-gmap-google-map center="map.center" 
    										pan="true" 
    										zoom="map.zoom" 
    										options="map.options" 
    										events="map.events" 
                        bounds="map.bounds" 
                        dragging="map.dragging" 
    										control="map.control" 
    										data-tap-disabled="true">

			<ui-gmap-polyline ng-repeat="p in map.lines" path="p.path" stroke="p.stroke" icons="p.icons"></ui-gmap-polyline>
			<ui-gmap-markers models="map.markers" coords="'coords'" icon="'icon'" options="'options'"></ui-gmap-markers>
    </ui-gmap-google-map>

<!-- 		<div id="ticketinfo">
			<div class="statusmsg">
				Your driver is on the way
				<div id="refresh-bar"></div>
			</div>
			<table id="tdholder" ng-class="{ticketsel: currentState == 'ticket', driversel: currentState == 'driver', stopssel: currentState == 'stops'}">
				<tr>
					<td class="ticket">
						<div class="details">
							<div class="note">
								<i class="icon ion-alert"></i>
								Please scan this ticket when you board.
							</div>
							<table>
								<tr>
									<td colspan="3" class="header">PASSENGER</td>
									<td rowspan="5" class="gap"></td>
									<td rowspan="5" class="qrbox">
										<div id="qr-code-bg"></div>
									</td>
								</tr>
								<tr class="txt">
									<td colspan="3">{{user.name}}</td>
								</tr>
								<tr>
									<td class="header ticket">TICKET ID</td>
									<td class="gap"></td>
									<td class="header pax">PAX</td>
								</tr>
								<tr class="txt">
									<td>{{tripTicket.id}}</td>
									<td></td>
									<td>{{tripTicket.pax}}</td>
								</tr>
								<tr class="last">
									<td></td>
									<td></td>
									<td></td>
								</tr>
							</table>
						</div>
					</td>


					<td class="stops">
						<div class="routeinfo">
							<div class="title">
								<div class="busnum">{{route.label || 0}}</div>
								<div class="name">{{route.description || 'Name of booked trip'}}</div>
							</div>
							<div class="stops">
								<div class="line"></div>
								<div class="start">
									<span class="time">{{tripTicket.boardStop.time | date:'h:mm a'}}</span>
									<span class="desc">{{tripTicket.boardStop.stop.description}} ({{tripTicket.boardStop.stop.type}} ID {{tripTicket.boardStop.stop.label}})</span>
									<span class="road">{{tripTicket.boardStop.stop.road}}</span>
								</div>
								<div class="end">
									<span class="time">{{tripTicket.alightStop.time | date:'h:mm a'}}</span>
									<span class="desc">{{tripTicket.alightStop.stop.description}} ({{tripTicket.alightStop.stop.type}} ID {{tripTicket.alightStop.stop.label}})</span>
									<span class="road">{{tripTicket.alightStop.stop.road}}</span>
								</div>
							</div>
						</div>
					</td>
				</tr>
			</table>
		</div>
 -->
     
      
    <div class="map">
        <ui-gmap-google-map center="map.center" pan="true" zoom="map.zoom" options="map.options" events="map.events" control="map.mapControl" data-tap-disabled="true">
			<ui-gmap-polyline ng-repeat="p in map.lines" path="p.path" stroke="p.stroke" icons="p.icons"></ui-gmap-polyline>
			<ui-gmap-markers models="map.markers" coords="'coords'" icon="'icon'" options="'options'"></ui-gmap-markers>
        </ui-gmap-google-map>
    </div>
          
  </ion-content>
</ion-view>
