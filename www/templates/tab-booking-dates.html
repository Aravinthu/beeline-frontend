<ion-view id="pg_bookdate" view-title="Select Dates">
  <ion-content>
    <booking-breadcrumbs step="1"></booking-breadcrumbs>

    <ion-spinner ng-if="disp.dataLoading"></ion-spinner>
    
    <div class="date-selection">
      <multiple-date-picker
        ng-model="disp.selectedDatesLocal"
        days-allowed="disp.daysAllowed"
        highlight-days="disp.highlightDays"
        disallow-back-past-months="true"
        disable-days-before="disp.today"
        >
      </multiple-date-picker>
    </div>

    <div>
      <table class="table legend-table">
        <tr>
          <td class="picker-day picker-selected activated exemplar">
            #
          </td>
          <td class="label">Selected dates</td>


          <td class="picker-day exemplar">
            #
          </td>
          <td class="label">Available</td>
        </tr>
        <tr>
          <td class="picker-day picker-off sold-out examplar">
            #
          </td>
          <td class="label">Sold out</td>

          <td class="picker-day picker-off examplar">
            #
          </td>
          <td class="label">No trips</td>
        </tr>
        <tr>
          <td class="picker-day picker-off previously-booked examplar">
            #
          </td>
          <td class="label">Prior booking</td>
        </tr>
      </table>
    </div>

  	<div class="bookdetails item">
      <h4>Selected Dates</h4>
  		<price-calculator
        booking="book"
        read-only="true"
        ></price-calculator>
  	</div>
    <div class="item">
      <button
            class="primary-button-centered primary-button"
            ng-disabled="book.selectedDates.length == 0"
            ui-sref="tabs.booking-summary({
              routeId: book.routeId,
              boardStop: book.boardStopId,
              alightStop: book.alightStopId,
              selectedDates: book.selectedDates
            })">
        Review Booking
      </button>
    </div>
  </ion-content>
</ion-view>
