<ion-view id="pg_bookdate" view-title="Select Dates">
  <ion-content>
    <date-picker
        valid-dates="validDates"
        exhausted-dates="soldOutDates"
        invalid-stop-dates="invalidStopDates"
        min-date="minDate"
        max-date="maxDate"
        startDate="minDate"
        dates="currentBooking.selectedDates"
    ></date-picker>

    <div ng-if="currentBooking.changes.priceChanges.length > 0">
        <h3>Price Changes</h3>

        <table>
            <tr>
                <th>Dates</th>
                <th>Price</th>
            </tr>
            <tr ng-repeat="priceChange in currentBooking.changes.priceChanges">
                <td>
                    {{priceChange.startDate | formatDate}}
                    &mdash;
                    {{priceChange.endDate | formatDate}}
                </td>
                <td>{{priceChange.price}}
            </tr>
        </table>

    </div>

	<!--qty-input ng-model="BookingService.currentBooking.qty" placeholder="Number of passengers" ></qty-input-->

	<div class="bookdetails">
		<price-calculator
      booking="currentBooking"></price-calculator>

		<button id="btnreview" ng-disabled="currentBooking.selectedDates.length == 0"
          ui-sref="tabs.booking-summary">
			Review Booking
		</button>
	</div>
  </ion-content>
</ion-view>
